# Сети в Linux

Настройка сетей в Linux на виртуальных машинах.

## Chapter I

![linux_network](misc/images/linux_network.png)

Планета Земля, США, штат Калифорния, Комптон, джаз клуб "Seb's", наши дни.

\> *В баре играет новая джаз-группа. Их музыка чуть энергичнее, чем Вы привыкли, но в таланте им не откажешь.*

`—` Себастиан, ты отсидел уже неделю за столом в офисе. Как считаешь, ты научился работать в Linux'е? Впрочем, учитывая что ты опять мне позвонил посреди недели, думаю я и так знаю ответ...

`—` Постепенно разбираюсь, но явно не так быстро, как хотелось бы.

`—` Готов ли ты завтра выйти на работу?

`—` Я не понимаю, не понимаю, дружище. Мне говорят заняться настройкой сетей. Но для меня это просто слова. Я хочу встретить молодого себя, когда я был глупым мальчишкой, который согласился пойти на работу сисадмином, отговорить его, объяснить, что к чему, но не могу. Что же делать, дружище?

`—` Ну, ну, не стоит отчаиваться. Настройка сетей не так и страшна. Я с радостью расскажу тебе о ней, если ответишь на один вопрос: почему твой отец вообще устроил тебя именно сисадмином? Мы ведь в его баре сидим, почему не сюда? Это куда уж легче.

`—` Я не знаю, кто разберет этого старика. Говорит что-то про самостоятельность и расширение кругозора...

`—` Хорошо, тогда продолжим расширять твой кругозор. Доставай ноутбук, поднимай виртуальную машину, покажу что и как.

\> *Новичков сменяют постоянные музыканты бара, музыка замедляется, официант все никак не принесет вам ваш заказ.*

\> *Пока Себастиан неуверенно поднимает виртуальную машину, Вы решаете поделиться основной информацией о сетях на Linux.*


## Chapter II

### Стек протоколов TCP IP

Собственно, что есть сеть? Сеть - это более 2х компьютеров, объединенных между собой какими-то каналами связи, в более сложном примере - каким-то сетевым
оборудованием и обменивающиеся между собой информацией по определенным правилам. Эти правила "диктуются" стеком протоколов **TCP/IP**.

Transmission Control Protocol/Internet Protocol (Стек протоколов **TCP/IP**) - если сказать простым языком, это набор взаимодействующих протоколов разных 
уровней (каждый уровень взаимодействует с соседним, то есть состыковывается, поэтому и стек), согласно которым происходит обмен данными в сети. 
Итого, стек протоколов **TCP/IP** - это набор наборов правил :) Тут может возникнуть 
резонный вопрос: а зачем же иметь много протоколов? Неужели нельзя обмениваться всем по одному протоколу?

Все дело в том, что каждый протокол описывает строго отведенные ему правила. Кроме того, протоколы разделены по уровням функциональности, что позволяет работе 
сетевого оборудования и программного обеспечения становиться гораздо проще, прозрачнее и выполнять "свой" круг задач. Для разделения данного набора протоколов 
по уровням была разработана модель сетевого взаимодействия **OSI** (англ. Open Systems Interconnection Basic Reference Model, 1978 г., она же - базовая эталонная 
модель взаимодействия открытых систем). Модель **OSI** состоит из семи различных уровней. Уровень отвечает за отдельный участок в работе коммуникационных систем, 
не зависит от рядом стоящих уровней – он только предоставляет определённые услуги. Каждый уровень выполняет свою задачу в соответствии с набором правил, 
называемым протоколом.

### Адресация

В сети, построенной на стеке протоколов **TCP/IP** каждому хосту (компьютеру или устройству подключенному к сети) присвоен IP-адрес. 
IP-адрес представляет собой 32-битовое двоичное число. 
Удобной формой записи IP-адреса (**IPv4**) является запись в виде четырёх десятичных чисел (от 0 до 255), разделённых точками, например, *192.168.0.1*. 
В общем случае, IP-адрес делится на две части: адрес сети (подсети) и адрес хоста:

![subnetwork_mask](misc/images/subnetwork_mask.png)